server:
  port: 8081
  shutdown: graceful
  tomcat:
    threads:
      max: 200
      min-spare: 20
    connection-timeout: 20000

spring:
  application:
    name: cryptex
  
  # File Upload Limits (Max 50GB, handled by streaming)
  servlet:
    multipart:
      max-file-size: 50GB
      max-request-size: 50GB
      enabled: true

  # Vault Integration (Secure Key Management)
  cloud:
    vault:
      host: ${VAULT_HOST:localhost}
      port: ${VAULT_PORT:8200}
      scheme: http
      token: ${VAULT_TOKEN}
      authentication: TOKEN
      kv:
        enabled: true
        backend: secret
        profile-separator: '/'
        application-name: cryptex

# Storage Configuration (Abstraction Layer)
cryptex:
  storage:
    provider: MINIO # Options: MINIO, S3, LOCAL
    bucket-name: titan-grid-storage
    minio:
      endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
      access-key: ${MINIO_ROOT_USER}
      secret-key: ${MINIO_ROOT_PASSWORD}
      region: us-east-1

# Actuator Configuration
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus,metrics
  endpoint:
    health:
      show-details: always

# Logging
logging:
  level:
    root: INFO
    com.titan.cryptex: DEBUG
    io.minio: WARN
